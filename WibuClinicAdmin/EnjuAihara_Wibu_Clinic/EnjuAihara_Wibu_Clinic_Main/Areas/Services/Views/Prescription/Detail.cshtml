@model EnjuAihara.EntityFramework.DescriptionModel 
	@{ 
		var j = 1;
	}
<div class="content-header">
	<div class="container-fluid">
		<div class="row mb-2">
			<div class="col-sm-6">
				<h1 class="m-0">Hóa đơn dịch vụ</h1>
			</div>
			<div class="col-sm-6 text-right">
				<div class="pull-right">
					<button class="btn btn-info" id="PrintBill">
						<i class="fas fa-print"></i> In hóa đơn
					</button>
					<button class="btn btn-danger">
						<i class="far fa-file-pdf"></i> Xuất PDF
					</button>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="card">
	<div class="card-body">

		<div class="container" id="Print">
			<div class="col-md-12">
				<div class="row">
					<div class="col-md-1">
						<div class="text-left">

						</div>
					</div>
					<div class="col-md-11">
						<div class="text-center">
							<h1 class="pt-0">Phòng mạch Wibu <br /> Hóa đơn toa thuốc</h1>
						</div>
					</div>
				</div>

			</div>


			<div class="row">
				<div class="col-xl-8">
					<ul class="list-unstyled">
						<li class="text-muted">Bệnh nhân: <span style="color:#5d9fc5 ;">@Model.AccountModel.UsersModel.LastName @Model.AccountModel.UsersModel.FirstName</span></li>
						<li class="text-muted">Địa chỉ: @Model.AccountModel.UsersModel.Address</li>
						<li class="text-muted"><i class="fas fa-phone"></i>Số điện thoại: @Model.AccountModel.UsersModel.Phone</li>
					</ul>
				</div>
				<div class="col-xl-4">
					<ul class="list-unstyled">
						<li class="text-muted">
							<i class="fas fa-circle" style="color:#84B0CA ;"></i> <span class="fw-bold">Số hóa đơn:</span>@Model.DescriptionCode
						</li>
						<li class="text-muted">
							<i class="fas fa-circle" style="color:#84B0CA ;"></i> <span class="fw-bold">Ngày tạo: </span>@Model.CreateDate
						</li>

					</ul>
				</div>
			</div>
			<hr />
			<div class="row">
				<div class="col-md-11">
					<div class="text-center">
						<h1 class="pt-0">Thông tin toa thuốc</h1>
					</div>
				</div>
				<div class="col-md-1">
					<div class="text-right">
						1
					</div>
				</div>
			</div>
			<div class="row my-2 mx-1 justify-content-center">
				<table class="table table-striped table-borderless">
					<thead style="background-color:#84B0CA ;" class="text-white">
						<tr>
							<th scope="col">STT</th>
							<th scope="col">Tên thuốc</th>
							<th scope="col">Nhà sản xuất</th>
							<th scope="col">Số lượng</th>
							<th scope="col">Đơn vị tính</th>
							<th scope="col">Hướng dẫn sử dụng</th>
							<th scope="col">Đơn giá</th>
						</tr>
					</thead>
					<tbody>
						@foreach (var i in Model.DescriptionDetailModels.ToList())
						{

							<tr>
								<th scope="row">@j</th>
								<td>@i.WarehouseDetailModel.MedicineProvideModel.MedicineModel.MedicineName</td>
								<td>@i.WarehouseDetailModel.MedicineProvideModel.ProviderModel.ProviderName</td>
								<td>@i.Quantity</td>
								<td>@i.WarehouseDetailModel.MedicineProvideModel.MedicineModel.Unit</td>
								<td>@i.HowToUseNote</td>
								<td>đ @(((double)i.TotalPay).ToString("N0"))</td>
							</tr>
						}
						
					</tbody>

				</table>
			</div>
			<div class="row">
				<div class="col-md-12">
					<div class="text-right">
						<p>
							<span class="text-black me-3">Tổng tiền</span><span style="font-size: 25px;">đ @ViewBag.Total</span>
						</p>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<script type="text/javascript">
	$(document).ready(function () {
		$("#PrintBill").on('click', function () {
			PrintElem("#Print");
		})
	});
</script>
